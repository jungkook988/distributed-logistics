<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>WebSocket æµ‹è¯•</title>
</head>
<body>
  <h2>ğŸš› WebSocket è½¦è¾†æ¶ˆæ¯æµ‹è¯•</h2>

  <div>
    <strong>æ”¶åˆ°æ¶ˆæ¯ï¼š</strong>
    <pre id="messages"></pre>
  </div>

  <script>
    // è®¾ç½® WebSocket åœ°å€ï¼ˆæ ¹æ®ä½ çš„æœåŠ¡åœ°å€ä¿®æ”¹ï¼‰
    const socket = new WebSocket("ws://localhost:5793/ws/vehicle");

    socket.onopen = () => {
      console.log("âœ… WebSocket å·²è¿æ¥");
      document.getElementById("messages").textContent += "å·²è¿æ¥åˆ°æœåŠ¡å™¨\n";
    };

    socket.onmessage = (event) => {
      console.log("ğŸ“© æ”¶åˆ°æ¶ˆæ¯ï¼š", event.data);
      document.getElementById("messages").textContent += event.data + "\n";
    };

    socket.onclose = () => {
      console.warn("âŒ WebSocket å·²å…³é—­");
      document.getElementById("messages").textContent += "è¿æ¥å·²å…³é—­\n";
    };

    socket.onerror = (err) => {
      console.error("ğŸ’¥ WebSocket é”™è¯¯ï¼š", err);
      document.getElementById("messages").textContent += "å‘ç”Ÿé”™è¯¯\n";
    };
  </script>
</body>
</html>
